<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="includes/css/main.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="includes/css/viewability.css" type="text/css" />
	
    <script src="flowplayer/flowplayer-3.2.13.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <script src="scripts/dv_sample_viewability_shim.js" type="text/javascript"></script>
    <script src="scripts/purl.js" type="text/javascript"></script>

    <title>Nested Frame :OpenVV Viewability Test</title>
</head>

<body>
<div id="wrapper" style="margin-top: 35px;">
    <div id="player" ></div>
</div>

<div id="ovvParamValues"></div>
	
	<div style="position:absolute;right:-280px;top:170px;">
	<div class="quartileViewWrapper chip_shadow" style="position:inherit;top: 0;">
		<div class="title underlined">
			<h3>Quartile Viewability</h3>
		</div>
		<div id="ovvQuartileViewValues" class="scrollContent"></div>
	</div>
		</div>

<div id="ovvExecutionState"></div>

<div id="ovvStartBox" style="display:none;">x</div>

	
<script src="scripts/ovvtest_core.js" type="text/javascript"></script>
<script src="scripts/ovvtest_player.js" type="text/javascript"></script>
<script src="scripts/ovvtest_viewEngine.js" type="text/javascript"></script>

<script  type="text/javascript">

// init things
(function(){
	window.addEventListener("load", function load(event){
		window.removeEventListener("load", load, false); //remove listener, no longer needed
//		positionPlayer();
		// if (typeof(buildPlayer) === 'function') buildPlayer();
		
		ovvtest.setOptions({ 
			adId: 'my_ovv_test_ad_id', 
			quartileValuesOutputElem: 'ovvQuartileViewValues',
			enableViewEngine: false,
			reportToParent: true
		});
		
		var boxDetails = {
			detailDef: [
				{label: 'Viewable', ovv: 'percentViewable'},
				{label: 'Window Focus', ovv: 'windowActive'},
				{label: 'IFramed', ovv: 'inIframe'},
				{label: 'Measurement By', ovv: 'measureTechnique'},
				{label: 'OVV State', ovv: 'viewabilityState'}
			],
				
			summaryDef: []
		
		}
		
		// Build the info output window
		ovvtest.buildInfoWindow('ovvParamValues', { topFrame: true} );		
		ovvtest.buildInfoWindow('ovvParamValues', { topFrame: false, infoBox: boxDetails} );		
		ovvtest.player.setPlayer('flowplayer');
		ovvtest.player.initPlayer('player');
		
		// Attach our listeners through javascript
		ovvtest.init();
		
		
	},false);
})();


</script>

</body>
</html>